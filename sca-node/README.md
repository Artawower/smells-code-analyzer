# Smells Code Analyzer (Node.js)

TypeScript/Node.js implementation of the Smells Code Analyzer CLI.

## Usage
```bash
cd sca-node
npm install            # installs dependencies (or pnpm/bun if you prefer)
npm run build          # compiles TypeScript into dist/
./bin/sca --config-file ../config.json
```

Development mode (runs the CLI through `ts-node`):
```bash
npm run dev -- --config-file ../config.json
```

## Publishing to npm
1. Update `package.json`:
   - bump `version`
   - adjust `description` / `keywords` if needed
   - ensure `files` includes everything you want published (`dist/**`, `bin/sca`)
2. Rebuild artefacts: `npm run build`
3. Smoke-test the tarball locally:
   ```bash
   npm pack
   tar -tf smells-code-analyzer-*.tgz   # inspect contents
   npx smells-code-analyzer-<version> --help  # via npm link or manual install
   ```
4. Publish:
   ```bash
   npm publish
   ```
5. Tag the release in git (e.g. `git tag v<version>`).

> Tip: If you distribute the Rust binary via npm, create a companion package
> (e.g. `@scope/sca-rust`) that downloads platform-specific artefacts during
> the `install` script. Keep this package separate from the TypeScript CLI to
> avoid conflicts.

## Project Layout
```
bin/
  sca               # CLI launcher (bun/node wrapper)
src/
  *.ts             # TypeScript sources
dist/              # Build output (generated by `npm run build`)
tsconfig.json      # Compiler settings
package.json       # npm metadata
```

The CLI reads the same `config.json` schema as the Rust version, so you can
swap implementations without changing project configuration.
